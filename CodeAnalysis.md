# Code analysis for Software Security Engineering
**CSCI - 8420:  Assurance Army**

Aaron Kirby, Krishna Teja Ayinala, Sindhura Bonthu   </br>

Project: Nuxeo

# Code review Strategy
Nuxeo is a very large open-source project with copious amounts of code. Due to it's size, we planned our code review strategy accordingly. It was impractical to sift through the output of a tool for the entire project codeset, and even more so to manually review it.

We adopted a combination of Scenario-based and Checklist-based strategies. We utilized our previously created Assurance cases and Misuse cases to identify data flows and potentially vulnerable areas of the Nuxeo Platform. We scoured the Nuxeo Platform code and focused on the code sections that dealt with these data flows. In this way, we greatly reduced the amount of code we needed to review, both manually and with automated tools. These are the data flows we focused on:

1) Form and set group permissions. (Authentication)
2) Edit, save, or modify data to the cloud. (Encryption) 
3) Store and retrieve data from the database, drive. (Third-party)
4) Export data into different formats, specific permissions on RWX.(Read, write, download)
5) Maintaining proper VCS of modifications on the shared doc. (Audit)

We then narrowed our focus even further by referencing our Threat models of the previosly mentioned scenarios The Threat models helped us create a checklist of issues to specifically look for in the code, and eliminated a lot of issues generated by the automated tool. We looked for STRIDE issues that could potentially be present (specific to each data flow).

Once our code review strategy was decided upon, we initially tried tools like SWAMP, Findbugs, and Sonarcloud to analyse our identified code sections. Due to various reasons, we did not succeed in producing an assessment report for any of the tools.

- SWAMP & Findbugs: because of the external dependencies [build requirements](https://github.com/nuxeo/nuxeo#building), the project could not be built, which prevented it from being analyzed.
- Sonarcloud: there were some assessments of Nuxeo projects present, but the main project that we are reviewing was not.

We were able to analyse our identified code sections on PMD,  based on the default JAVA rulesets in the tool. After sifting through the results and summarizing the relevant findings, we manually reviewed the code sections for any issues from our checklist.

# Findings from manual code review

1) Form and set group permissions. (Authentication)


2) Edit, save, or modify data to the cloud. (Encryption)


3) Store and retrieve data from the database, drive. (Third-party)


4) Export data into different formats, specific permissions on RWX.(Read, write, download)


5) Maintaining proper VCS of modifications on the shared doc. (Audit)

# Findings from automated code scanning
PMD is the only tool we were able to get working. The analysis is done in the command line and the output can be either text or xml. The following summaries are grouped by the data flows we identified.

[Full Report](https://github.com/kteja-ayinala/SW-Assurance-Term-Project/blob/master/Codereview%20reference%20links/Full-Report-nuxeo.xml): output of the entire Nuxeo Platform code base. Only specified areas were reviewed for security threats.

1) Form and set group permissions. (Authentication)


2) Edit, save, or modify data to the cloud. (Encryption)


3) Store and retrieve data from the database, drive. (Third-party)


4) Export data into different formats, specific permissions on RWX.(Read, write, download)


5) Maintaining proper VCS of modifications on the shared doc. (Audit)


**Github Project Board:** https://github.com/kteja-ayinala/SW-Assurance-Term-Project/projects/5
